#
# @lc app=leetcode id=424 lang=python3
#
# [424] Longest Repeating Character Replacement
#

# @lc code=start
from collections import Counter 
class Solution:
    def characterReplacement(self, s: str, k: int) -> int:
        # for windowSize in range(k):
        # s = "BAAABAABBBAAABBBBBBAABAAAAABBABBABABAABABBBBBAAAAAABAABABABBABAAAABBABABBAABBABAABAABAABBBBAABABABABAABAABBBAABBABABBBBBBBAAABAAABBBAABABBBABABAAAAAABBAABBBAABAAAAAABBABBAABBABABBABBBAAABBABBAAAABAABABBBABBABBABAABBBBAABABBABBBABBAABBAABBAAAABBBBBBAAAABAABAAAABBABABBBAABABBAAAAAAABABBBABABAAABBABAABAAAAABBABBABBABBABABBABBBBBBBBABABAABAAABABBBABAABABABBBABAAAAAAAABAAAAABBBABBAAABAAABBABABBBABBAABBBBABAABBBBBAAABAAABAABABBAAAABAABBAABABAABABBBAAABBBBABAABBABAABAAABAAABABBABBBBBABABBABBBBBBBBBAAAAABBBABAAABBABABABBBBABABABBBBABBBBBABBABBABBABAABABBAABBABBABABAAAABAAABAAABBBABABABBBBBBBABBABBAABBABABAABAAABABBABAAAABBBBBBBBABBBAABBAAAAABBABABAAABABBABBBBABBBAABBBAABAABAAAAAABBABABAAABBABBAABBAAAAAAAAABABAAABABBBABABBBABBAABBABAAAAABAABABABAABBBABAABABBBAABABBAABAAABABBBABBBBBABBBBABAABAABBABBAABBAABBBABBBABBAAAAAABBAAABAABBBAAABBBBAABBABBAAAABBABBAAABAABABAAAAABAAAABBAAAAAABAABBBAAAABAABBBABBABAABBAAABBBBBBBABBBBABBBABBBBBAAABBAABABBBBABBBAAABBAAABBABAAAAAABBABBAAAAABBBBABABAABBBABBBBABABBBBAABBBBAABBABAABABBAAABBABABAABBBABABBBBAAAAAAAABAAAAAABAAABBBAABBABBBABBABBBBBABAAAAABBBBAABBAAAABBABBAAAAABAAAABBBBABBBAABBAABBBBABABBBBAAAAAAAABAABBAAAABAAAABBAAABAAAAAABABAAABABABBAAAAABABBAAABAAABBAAAAABBABAABABAAAAABBAABABABBBABBABBBABABBABABBABBABBBBABAABAABBABBABAABBABAABABBBAAABBAABBABBABBABABAAAAAAAAABAABBABBBABBAAAABBABBAABBBBBABAABBABBAABBABABAAAAAAAAAAABBBAAABBAAAAAAABBABAAAABBBAABBBBABABBBBBABAABABBAAABBBBAAABABABBBBBAAAABABBABBBAABABBABBBAAAABBABBBAAAAAAABBAABABBBBBAABABBAAAABAAABBBBAABAAABBBBABBAABBBBBBBAAAABBBBABAAABAABBABABBAAAABAABABAAAAAAABBAABAAABBBABAABBBBBBBBBBABAABBAAAAABAAAAABABAAABBAABBAAAAABBBABBBBBBBBABBAAAABBAABBBAAABBAABBAAAABABBBAAABAAAAAAABBAAABBBBBBBBABAAABBAABBAAAABBAAABAAAAABBBAAAAAAAAABABBAAABBBABABBABAABAAAABBBBABAABBBAAABAABAABBABAAABBAABABBAABABAAABBAAAABABAABAABAABABBBBBAAAABAABBBBAABAABAABABBAAAABAABAAABAABBABABAAAABABBABBBBBBBAAABBABBBBBAABABABABAABBABAAABBBBBBAAAABABBAABAAAAABBBBABABABBBAAAABAABBBBBBBABAAABBBABBABBBBABBBAABBAABABABAABAABBAABBBAABAAAAABAABBAAABBABAABBBABBABBAABBAAAABABAAAABBBAAAABABABAABBBBABBABBBBBBAABBABBABBAAABBBBAAAABBBBAAAABBAABBAAAAAAAABBABBABABABAAAABBBBAAABBABBBBABABABBBABAAAABBBAAAABBAABABABBBABBAAAAABABBBBAAAAABAABABABABAAABBAAABBBBAABABBBAABBBAAABBBAABABAAABABBBABBABBBBABBBBAAABABAAAABABBBBBBABAAABBAABBBABAABABBABAAABAAAAAAAAABABBABBBABBBBABBBAABBABABABBAAAABAAABABAABBABBAABAAABAABAABAABABABABBAAABBBABABBAABAAABABAAAABABBAABAAABBAAAAABAABABAABBABAABBAABBBBBBBAAAAAABBABABABBBBABBAAAABBAABBBBBAABABABAABAABAABBBABBAAAABAABBABBAABBAAAABBBBAAABBAABBAABBAABAAAABBAAABBBBABBBBABABABAAABBABABBBABBBBBBBBAABABBABAABABAABBABABAABABBABAAAAABAAABBAABAAAABBBBBBBBBABAAABBAABBBAABAAABBBBBAABABABBABBBBAAAAAABABAABAAABBAAAABABBAABAAABBBABABABABBAAAAAABABBBABAAAABBAAAAABBBABBBBAABBAAAAABABABBABABBBBAAAAABAAABAAABBBBBBABBBBAABAABBAABAAAAABBBBBABABBAABAAABAABBABBBAABBBBABBAABAAAAABBAABBBBBAABBBAABABBBBBBAABAAAABAAAAABABABABABABABBABBBBAAAABABBBABBABBBABBABBBBABBBBBABABBBABABBABBBABBAABBABBAAAABBAAABBABBBABAABBBBAAABBBABABBABBBAAAABABABAAAAAAABBBAABBAAAABAAAAAAABABAABBABAABAAAAAABABBBBAABABBBABAAAABBABAABBBBABBAABBAAAAAABBBAAABABBBBBAABAABBBBBAABAABBBAABABAABAABBBBBABBAAAABBBAAAABAABBBBAAABBBBABABAABBAABBABBAAABBBABABAAABBBBABABAABAABAAABBABBBBABBBABAAABBAABBABBAAAABABABAAAABAABBAABABBBBBAABBABAAABBAABBBABAAAABAABAAAAAABAABBAABBBBABABBBABBAABAABBBBABABAABAAABBAABBAABBBBBABAAAAABBAABBAAABAABBAAABAABABAAAABAAAABBBBABABAABAABABAAAAAAAAABBBAABABAABABBBABBABBAABABBABAABAAABBAAABABBAAAAAABABABBAABBBBBAABAABAABBBBBBBABABBABBBAAABABBABAAABBBBABBBBBABABBAAAAAABBBAABABBBAAAABBBBBAABABBBBABBBAAAABABAABAABABABABBAABABABBAABBABBBBBABBBABAAABBAAAABBBBABBBABBBBBBAABBBABBBABAABABBBBAABBBBABABAABBBABBBBBBAAABAAABBBBAAAAAABAABBAABABAAABAAAABAABABAAABBAABABABAABBABBAABBBAABABABAAABBBAAAABBAAAAAABAABAAAAAAABABAABAAABABAAABBBAABABBABABBBBABBABBABABAAABBBBBBBABAAAABABABBAAAAAABBABBAAAABBBBABAAABBBBAABAABABAABBABABBBBBAABAAABBBBABABABBBABBABBBBAAAABABABABBABBABABABBABAAAABABAABBBABBAABBABBABABBBBBAAABBBAABABAAAAABAABABAAAABBAAAABBABBABBBBBBBBBAAAABBBABBBBBBBBABBABBAAABBBABABAAAABABABABABAAAABBABBAABBBBABABBBBBBABABABABAAAABBBAAABBAABBAABABBABAAAAAABAAABBBABBBABABBABBAABBABBABBABAABBBABBBAAABABABABBAABAABABAABBABAAAABABBBBBBBBAAAABBBBAABBBBBBBBABBABAAAABABBABAABAAABAABABABAAAABAAABABBBBBABBBBBABABBBABABBBBABAABABABBAAABABABAAAABBABBAAAABBBBBBAAAABAABABABBBBBBBBBBABBAABABBBBBBBBBAAABBAABBBAABBABAAABABAAAABBAAAABBBABAAABABBBAABBABAAABBBAABBBBBAAABBBBBBBBABBAABBAAABBAABAAABABBBABABABBAABABABBAABAAAAABABABABAABAAABBABABABBBBBBBBAAAABBAAAAAABAABABABAAABBBBBBBAABBBABBBAABABAABBBABAAABBABBBBBAAAAAAABBAABBABBBABABAABABAABABABBBBABAAABBABABABAAABAAABBABABAABBAAAABBBABBABBAAABAAAABBAAABABAABBABAAAABAAAABAAAAABABBBBAABAABBBAABABABABBAABBBBAAABBAAABABABBBBBABABBAABBBABAAAABABAABBABAAABBAABAAABABABAAABBABBABABABABBBAABABAABAABBBAAAABBBAAAABBBBBBBBBBAABBAAABBAAABABABBBBABBBAABABABBABAABBBABABAAABAAABABABBAABBABAAABBBABAAAAAAAAAAAAABBBBABBAAABBAAAAABBABBBAABAABBBAAAAAABBBABAAABABBBABBABABBABBBBBAAABAABAABAAABBBBBBBAABBABABBABABBBBABABAABBABABBAABBABABBABAAAAABABABABBBABABBBBAABBBABAABABABBABBAAAAAAAAAAAABAAAAAAAABABBBABBABBBBABAAAAAAABABBBAABBBBABBBABBBABBBBBABBAABBBBBBBBAAAABBBBABBAAABBAAABAAABAAABABABABBABAABBAAAAABBABABAAAABBBBABBBABBAAAAABBAAABBABAABBAABAABAABBBAABAABABBAABAABBAAAABBBBABAAAAAABABBBBBABBAAABBABBBAABAABABABABBBBBBBABABBBBAAABBBBAAAABBBBBBBAAABBBAAAAABABAAABABABBABAABBAAABAAABABAAAABBBBAAAAAABAAABBABABABAAABAABAAABBAABBBBBABAAAAABBAAAABBAABBAABBABAABABBAABAABAAAAAABABBABBBABAABAABBAABABBBAABABBABABAAAAAAAAAABAAAAAABABBABAABBAAABAABBABBABBAAAABABAABABABABBBBAABBBAAABABAABABBBBBABBBBABBBABBBBAABABBABABAABAABBAABBABBABBBBAAABBABBBABBBBABBBAABABAABBBBAABBABABAABAABABBBAABAAAABABAAABABABABAABABABBABBBBAABAABBBBBBABBABABAAABBAABBBABBBABAAAAABBBBBBAABABAABAAABBABABABBABBBABBBBABBABBABABBBBBABAABBAAABAABBAABBABABABBBBABBAABABABAABBBBABBABBABBBABABAAABBABBBABABBBBAABABAAAABABAAAAABABBBBAAABAABAABBAAABBABABBBAAABABAAAAAABBABABABBBBABBBAAAABBAABBBAABBABAAAAAABBBABAAAAABAABBABAAABABABBBAAAAABABABBBABABBAABAABBBBBBABAABBABBBAAAABABABABBBAAAAAAAAAABABABBAABBAAABABBABABBBBABABBABABAAAAAABAAAAAAAAAAABBAAAABAABABAAABABBBAAAAABBBBAABBBBABAABAAABAABAABBAAABBAABABBAABABAAABABABBABBBABBBBAABBBAABABBABBAABBAABBBBABABBBABABABABBABABAAAAABAAAABABAAAAAAAAABBABAAAAAAAAABBBAAABBBBABBBAABAAAAAABBBBAAABBABABBBBAAABAABABAABAAABAAABBABAABBAABAAABBABAABBBAAAAAAABAABABBABABBBBAABBABABBBBBAABAAAAABAABBBAABBAAABABBBBABABBABBAABBABAAABBBABBABAABAABAABAAAABABBABAABBBABABABAABAAAABBBBAABBBAAAAAAAAAAABBABABBBABAABBBBBABBABBABAABBBBBAAABAABAABBBBBAABABAAAABAAABBBAABAAAAAABBAABBABBAAABABABABBBBBBAABBAAAAAAABBBBABBAAAABABBBAAABABBBBBBAABABAABAAAABBBABABBAABBBBAAAABABBBBAAABAABBABAAAAABBBBBABBBBBAAAAABABAAAAAABABABAABBABBBBAAAABBAAABBBBABBBBABAABABABABABBBABAAAABBBAAABBABBABBBAABBABAAAAAAABAABBBBBBABABBAAABAABBABABBAABBBAAABBBABBBABBBBABBAAABABBBBAABBAAABBBAAABBBAABAABBAAABAAABAABBABBAABBAABBAAABBBAABBBBBBAAABBABABBABAAABBBABBBBBBABAABABABAABBAABBABABAAABBBAABAABBAAAAABABAABAABBBAAAAAABBABBBAAABBAABBBABBAABAABABABAAAAABBBAABAAAAAAAABAAABABAABBBBBBBBABAABBAAABBAAAABBBBBBBBBABBBBBBABABABAAABBBBBAABAABAAABBBAABABAAABABBABABBBABAAABBBAABABABBBBABBBBBABAABBBAABABAAAABBBBBAABABABAAAAABBABBBAAABAAAABAAAABABBBAAAAABAABBBAABAAAABAAABBAABBBBBBAAAAAAABAABBBAAAAABAABBBBABBBAAABAAAAAABBBABBBBBABABABAABBBABAABBAABAAABBABAAABAABBBABBABBAABAABBBAABBABBBABBBABABAAABBAABAABABBAABABAAABBBABBBBABABBAAAABBBBABBABBAABBBABABABABBBBABBBABBAAAAABABBBBAABBBAAABAAAAAABBBBBBBBAABAABAAAAABAAAABBABBAAABBAAAAAABBBBBABBAAABBBABABBBBBAABABBABABAABABBAABABABBABAABAABAAAAABABAABBAABBABBBBBAABABBAABABBAAABBBABAABAABBBAAAAAAABBBABABABAAAAABABAAABBAAABABABABAAAAABABBABBAABAABBAAABAABBABAAAABAAABABBBABBAABBBAAAABBBBBBABAABBAABBABBBABBBBABBBBAABBBAAAAAAAAABBABBBBABABAAAABABAABBBBBABAAABBBABABBBBABBBBAABABBABABABBBAABAABAABAABBBBAABAABAABAAABBABABBBBABBBBBBABBABBABAAABBABABABABBBAABBBABABBABAAABABAABBBBBBBABAAABBABBAABBAABAAAAAAABBBBABBAAABBBBBBBBBBABBBBABBBBABAABABAAAAABBAABABBABABBBBABBABBAABABAAAAABAAAAAABBAAAABAAAAABAAABAAABAABBAAABAAAAAAABAAABBBBBABABBAAAABABABABBAABBABABBAABBABBBBBBBBAABAABAAAABAABABABABBAAAAAAAAAAABBABBABABBBBBBABAAABAABBBABABBBAAABBBBAABBABBAAABBABBBBABAAAAAAABAABAABBAABAABBABABAAABAAABAABAAAABBBAAABAABBBAAAAABBBABBAAAAAABBAABAAABAAAABABABABABBABABBBAAAABBBABABABBAAABBAABBABABBABBBBBABABBAABABBAAABBAABBBAABAABBABBBABAAAABBAAAAAABBBBBBABABAABABBAABAABABAABABAABBABBBAABBBBBBBAAAAABBAAABBBABBBBBAAAABBBAAABBBAABBAAAABABBBABBBBBABAAAAAAAAABBBABAABBAABAAABAABAAAAABBABABBABBBAAAAABBAAABABAABAAAAAABAABBABABBBBAAABBBABBAAAABBBAABABAAAABBBABBBAAABAAABABABBBABBBBBBBABABAAAABAABABABBAAABBBABABBABAAABBBBABBBABABBAABBAABBABABBAAAABAABAABBAABBABAABBBABABABABABBBAABBABBAABBAAAAABABBBABBBAAABBBBABAABBBBBBBBAAABAABAABBBAABABABAAABBAAAABAAAAABABAAABBBAABAAABBAAAABABAAAABAAABBBBAAABBAABAABABABBAAAAABBBBABBABAAABABAAAAABBAABABBBABBABBAAABABABBABBAABAABABABBBAAAAAABBAABBBBBABBBBBBBBABBAABAABABABAAAABAAAAAAAAABAAABAAABBBAAABABABBBABAAAAABBBBAAABAABABAAABBBAABABABABBABBABAABBBBBABBBAABABAABAABABAAAAAAAAAABBBAABBBAABAAABBAABBBABBABABABAAAABBAABBBABABAAAABBABABABABBABABBBBBBBAAAABBBBBBAAABAABABAABBBAAAAABBBABAAABBAABBBAAABABABBAABBAABABAABABAABBBABAAABAABAABAAABBAAABAABABABAABABAAABBAAABABAAABABBBAAABBABBABBBBBABBABABBABBAABAAABBBAAAAABBBAAABBBBBABBBBBBAABAAABBBBAAABAABBABAAABBBBBBBBBAABBABBBABABAABBABBABBABBAAAAABBBBBBBBAABABABABAABAAABBBBBBAAABAABABABBAABBAABBABBABBABAABAABBBBABBAABBABABBABBABABABBBBBAAABABBAABBAAABAAAABAABABABAAAABBABAAAAABABABABBBBBBBABBBAABBAABBBABBAABBABABAABABABBBBBABABABABBBBBABBBAABAABBBBBAAAABBBABBBBAAABBBAABABBBAABBAABAABABBBBABBBBBBABABBAAAAABBBAAABAAAAABBBAABABBBBBAAABBBBBABAAABAABBAABABAABBBABBBABBAABABABABAAABBABABABBABAAABAAAAAABABBABAAAAAABBBABABABBBBABAAAABBAAABBBBBBBABAABAAAAABABABABBBBAABBABAABABBAAABBABAABBBBBBBABABBBABABAABAAAAAAABABBAABBBAAABABBAAAABBAAABABBABAAABAAABBBAAAAAAAABBBAABABBBAAAABAAAABABABAAABBBAAABABBAABBABBABBAAABBABABBABAAAABBBBBABABBBAABBAAABAABBAABBABAAABBBBAAAABAAABABABABABABBBABBBAABBABAAABBBBBBBAABABABBBBAABAAAABBBBABAAABBBAA"
        # k = 5135

        '''
        Accepted
        37/37 cases passed (9696 ms)
        Your runtime beats 5.04 % of python3 submissions
        Your memory usage beats 18.48 % of python3 submissions (14.6 MB)
        '''
        
        start = 0
        end = 1

        maxct = 0
        rangelen = start - end
        while end <= len(s):
            search = s[start:end]
        
            # Finding maximum occurrence of a character  
                # and get the index of it. 
            # wc = Counter(search) 
            # val = max(wc.values())
            setmax = 0
            for elem in set(list(search)):
                setct = search.count(elem)
                if setct >= setmax:
                    setmax = setct
            val = setmax

            diff = (end - start) - val
            # if diff > 2:
            if diff > k:
                # print(search, "shift", start, end)
                start += 1
                end += 1
                # print(s[start:end], "after shift: ", start, end)
            else:
                # print(search, "ok", end - start)
                if end - start > maxct:
                    maxct = end - start
                end += 1

        # print(maxct)
        return maxct
# @lc code=end

